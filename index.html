<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JSON</title>
</head>
<body>
	<div id="test" onclick="test()">测试一下</div>
	<div id="json" onclick="getJson()">获取json数据</div>
	<div id="jsonData"></div>
	<div id="jsonpData"></div>
	<script>
		function test() {
	alert('测试一下');
}
function getJson() {
	const url='test.json';
	return ajax(url);
	/*el.innerHTML=text;*/ 
}
function ajax(url) {
	const request = new XMLHttpRequest();
	request.open('GET',url,true);
	request.onreadystatechange=function() {
		if(request.readyState == 4 && request.status == 200) {
			console.log(request.responseText);
			return textHandle(request.responseText);
		}
	}
	request.send(null);  
}
function textHandle(res) {
	const el=document.getElementById('jsonData');
	let text='';
	const books=JSON.parse(res);
	for(let item in res) {
		text=text+item+'<br>';
	}
	el.innerHTML=text; 
}
	</script>
	<script src="https://flq77.github.io/test.js></script>
</body>
</html>
